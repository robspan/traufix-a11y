<!-- @a11y-pass -->
<!-- mat-tree with aria-label -->
<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" aria-label="File browser">
  <mat-tree-node *matTreeNodeDef="let node">
    {{node.name}}
  </mat-tree-node>
</mat-tree>

<!-- mat-tree with aria-labelledby -->
<h2 id="folder-tree-heading">Project Folders</h2>
<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" aria-labelledby="folder-tree-heading">
  <mat-tree-node *matTreeNodeDef="let node">
    {{node.name}}
  </mat-tree-node>
</mat-tree>

<!-- mat-tree with [aria-label] Angular binding -->
<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" [aria-label]="treeLabel">
  <mat-tree-node *matTreeNodeDef="let node">
    {{node.name}}
  </mat-tree-node>
</mat-tree>

<!-- mat-tree with [aria-labelledby] Angular binding -->
<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" [aria-labelledby]="treeLabelId">
  <mat-tree-node *matTreeNodeDef="let node">
    {{node.name}}
  </mat-tree-node>
</mat-tree>

<!-- mat-tree with [attr.aria-label] binding -->
<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" [attr.aria-label]="'Document tree'">
  <mat-tree-node *matTreeNodeDef="let node">
    {{node.name}}
  </mat-tree-node>
</mat-tree>

<!-- mat-tree with [attr.aria-labelledby] binding -->
<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" [attr.aria-labelledby]="headingId">
  <mat-tree-node *matTreeNodeDef="let node">
    {{node.name}}
  </mat-tree-node>
</mat-tree>

<!-- Self-closing mat-tree with aria-label -->
<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" aria-label="Navigation menu"/>

<!-- @a11y-fail -->
<!-- mat-tree without any accessibility label -->
<mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
  <mat-tree-node *matTreeNodeDef="let node">
    {{node.name}}
  </mat-tree-node>
</mat-tree>

<!-- mat-tree with only [dataSource] but no accessibility label -->
<mat-tree [dataSource]="nestedDataSource" [treeControl]="nestedTreeControl">
  <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
    <button mat-icon-button matTreeNodeToggle>
      <mat-icon>chevron_right</mat-icon>
    </button>
    {{node.name}}
    <ul [class.hidden]="!nestedTreeControl.isExpanded(node)">
      <ng-container matTreeNodeOutlet></ng-container>
    </ul>
  </mat-nested-tree-node>
</mat-tree>

<!-- mat-tree with class and other attributes but no label -->
<mat-tree class="file-tree" [dataSource]="fileDataSource" [treeControl]="fileTreeControl">
  <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding>
    <mat-icon class="mat-icon-rtl-mirror">description</mat-icon>
    {{node.filename}}
  </mat-tree-node>
</mat-tree>

<!-- Self-closing mat-tree without label -->
<mat-tree [dataSource]="dataSource" [treeControl]="treeControl"/>

<!-- @a11y-false-positive -->
<!-- mat-tree with aria-label set via directive or host binding -->
<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" myTreeLabelDirective>
  <mat-tree-node *matTreeNodeDef="let node">
    {{node.name}}
  </mat-tree-node>
</mat-tree>

<!-- mat-tree inside labeled region that provides context -->
<section aria-label="File Navigation">
  <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
    <mat-tree-node *matTreeNodeDef="let node">
      {{node.name}}
    </mat-tree-node>
  </mat-tree>
</section>

<!-- mat-tree with title attribute (provides accessible name in some contexts) -->
<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" title="Project structure">
  <mat-tree-node *matTreeNodeDef="let node">
    {{node.name}}
  </mat-tree-node>
</mat-tree>

<!-- @a11y-false-negative -->
<!-- mat-tree with empty aria-label -->
<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" aria-label="">
  <mat-tree-node *matTreeNodeDef="let node">
    {{node.name}}
  </mat-tree-node>
</mat-tree>

<!-- mat-tree with whitespace-only aria-label -->
<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" aria-label="   ">
  <mat-tree-node *matTreeNodeDef="let node">
    {{node.name}}
  </mat-tree-node>
</mat-tree>

<!-- mat-tree with aria-labelledby pointing to non-existent element -->
<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" aria-labelledby="missing-element-id">
  <mat-tree-node *matTreeNodeDef="let node">
    {{node.name}}
  </mat-tree-node>
</mat-tree>

<!-- mat-tree with aria-labelledby pointing to empty element -->
<span id="empty-label"></span>
<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" aria-labelledby="empty-label">
  <mat-tree-node *matTreeNodeDef="let node">
    {{node.name}}
  </mat-tree-node>
</mat-tree>
