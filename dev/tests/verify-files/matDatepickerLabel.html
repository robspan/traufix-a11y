<!-- @a11y-pass -->
<!-- Input with matDatepicker inside mat-form-field with mat-label -->
<mat-form-field>
  <mat-label>Choose a date</mat-label>
  <input matInput [matDatepicker]="picker1">
  <mat-datepicker-toggle matSuffix [for]="picker1" aria-label="Open calendar"></mat-datepicker-toggle>
  <mat-datepicker #picker1></mat-datepicker>
</mat-form-field>

<!-- Input with matDatepicker and direct aria-label -->
<input matInput [matDatepicker]="picker2" aria-label="Select birth date">
<mat-datepicker-toggle [for]="picker2" aria-label="Open birth date calendar"></mat-datepicker-toggle>
<mat-datepicker #picker2></mat-datepicker>

<!-- Input with matDatepicker and aria-labelledby -->
<span id="event-date-label" class="visually-hidden">Event date</span>
<input matInput [matDatepicker]="picker3" aria-labelledby="event-date-label">
<mat-datepicker-toggle [for]="picker3" aria-labelledby="toggle-label"></mat-datepicker-toggle>
<mat-datepicker #picker3></mat-datepicker>

<!-- Input with Angular binding for aria-label -->
<mat-form-field appearance="outline">
  <mat-label>Appointment Date</mat-label>
  <input matInput [matDatepicker]="picker4" [aria-label]="dateLabel">
  <mat-datepicker-toggle matSuffix [for]="picker4" [aria-label]="toggleLabel"></mat-datepicker-toggle>
  <mat-datepicker #picker4></mat-datepicker>
</mat-form-field>

<!-- mat-datepicker-toggle with aria-label -->
<mat-datepicker-toggle [for]="picker5" aria-label="Toggle calendar"></mat-datepicker-toggle>

<!-- @a11y-fail -->
<!-- Input with matDatepicker but NO label (not in mat-form-field, no aria-label) -->
<input matInput [matDatepicker]="pickerFail1">
<mat-datepicker #pickerFail1></mat-datepicker>

<!-- Input inside mat-form-field but WITHOUT mat-label -->
<mat-form-field>
  <input matInput [matDatepicker]="pickerFail2" placeholder="Select date">
  <mat-datepicker #pickerFail2></mat-datepicker>
</mat-form-field>

<!-- mat-datepicker-toggle without aria-label -->
<mat-datepicker-toggle matSuffix [for]="pickerFail3"></mat-datepicker-toggle>
<mat-datepicker #pickerFail3></mat-datepicker>

<!-- Another toggle without accessible name -->
<mat-form-field>
  <mat-label>Start Date</mat-label>
  <input matInput [matDatepicker]="pickerFail4">
  <mat-datepicker-toggle matSuffix [for]="pickerFail4"></mat-datepicker-toggle>
  <mat-datepicker #pickerFail4></mat-datepicker>
</mat-form-field>

<!-- @a11y-false-positive -->
<!-- Datepicker input with wrapping label element -->
<label>
  Departure date
  <input matInput [matDatepicker]="wrappedPicker">
</label>
<mat-datepicker-toggle [for]="wrappedPicker" aria-label="Open departure date calendar"></mat-datepicker-toggle>
<mat-datepicker #wrappedPicker></mat-datepicker>

<!-- Datepicker input with title attribute as fallback -->
<input matInput [matDatepicker]="titlePicker" title="Select reservation date">
<mat-datepicker-toggle [for]="titlePicker" title="Open calendar"></mat-datepicker-toggle>
<mat-datepicker #titlePicker></mat-datepicker>

<!-- Datepicker input with explicit for/id label association -->
<label for="explicit-date-input">Return date</label>
<input id="explicit-date-input" matInput [matDatepicker]="explicitPicker">
<mat-datepicker-toggle [for]="explicitPicker" aria-label="Open return date calendar"></mat-datepicker-toggle>
<mat-datepicker #explicitPicker></mat-datepicker>

<!-- mat-datepicker-toggle with text content providing accessible name -->
<mat-datepicker-toggle [for]="textTogglePicker">Open Calendar</mat-datepicker-toggle>
<mat-datepicker #textTogglePicker></mat-datepicker>

<!-- @a11y-false-negative -->
<!-- Datepicker input with empty aria-label -->
<input matInput [matDatepicker]="emptyLabelPicker" aria-label="">
<mat-datepicker #emptyLabelPicker></mat-datepicker>

<!-- Datepicker input with aria-labelledby pointing to non-existent element -->
<input matInput [matDatepicker]="missingRefPicker" aria-labelledby="non-existent-date-label">
<mat-datepicker #missingRefPicker></mat-datepicker>

<!-- mat-form-field with mat-label containing only whitespace -->
<mat-form-field>
  <mat-label>   </mat-label>
  <input matInput [matDatepicker]="whitespacePicker">
  <mat-datepicker #whitespacePicker></mat-datepicker>
</mat-form-field>

<!-- mat-datepicker-toggle with empty aria-label -->
<mat-form-field>
  <mat-label>End Date</mat-label>
  <input matInput [matDatepicker]="emptyTogglePicker">
  <mat-datepicker-toggle matSuffix [for]="emptyTogglePicker" aria-label=""></mat-datepicker-toggle>
  <mat-datepicker #emptyTogglePicker></mat-datepicker>
</mat-form-field>
